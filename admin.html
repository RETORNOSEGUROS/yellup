
<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Painel Admin Bonito</title>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
import { getFirestore, collection, getDocs, deleteDoc, doc, updateDoc } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js";

const firebaseConfig = {
    apiKey: "AIzaSyC5ZrkEy7KuCFJOtPvI7-P-JcA0MF4im5c",
    authDomain: "painel-yellup.firebaseapp.com",
    projectId: "painel-yellup",
    storageBucket: "painel-yellup.appspot.com",
    messagingSenderId: "608347210297",
    appId: "1:608347210297:web:75092713724e617c7203e8",
    measurementId: "G-SYZ16X31KQ"
};
const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

async function carregar(col, listaId, campos) {
    const snap = await getDocs(collection(db, col));
    const lista = document.getElementById(listaId);
    lista.innerHTML = "";
    snap.forEach(docu => {
        const data = docu.data();
        const item = document.createElement('li');
        const form = document.createElement('form');
        form.style.display = 'flex';
        form.style.flexWrap = 'wrap';
        form.style.justifyContent = 'space-between';
        form.style.marginBottom = '10px';
        campos.forEach(campo => {
            const input = document.createElement('input');
            input.type = 'text';
            input.name = campo;
            input.value = data[campo] || '';
            input.placeholder = campo;
            input.style.flex = '1 1 30%';
            input.style.margin = '3px';
            form.appendChild(input);
        });
        const saveBtn = document.createElement('button');
        saveBtn.textContent = 'Salvar';
        saveBtn.type = 'button';
        saveBtn.onclick = async () => {
            const novoData = {};
            campos.forEach(campo => {
                novoData[campo] = form.querySelector(`[name=${campo}]`).value;
            });
            await updateDoc(doc(db, col, docu.id), novoData);
            alert('Atualizado com sucesso!');
            location.reload();
        };
        const delBtn = document.createElement('button');
        delBtn.textContent = 'Excluir';
        delBtn.type = 'button';
        delBtn.style.background = '#dc3545';
        delBtn.onclick = async () => {
            await deleteDoc(doc(db, col, docu.id));
            alert('Removido com sucesso!');
            location.reload();
        };
        form.appendChild(saveBtn);
        form.appendChild(delBtn);
        item.appendChild(form);
        lista.appendChild(item);
    });
}
window.onload = () => {
    carregar('jogos', 'jogosLista', ['nome', 'data']);
    carregar('perguntas', 'perguntasLista', ['texto', 'timeId']);
    carregar('premios', 'premiosLista', ['titulo', 'valor', 'usuarioId']);
};
</script>
<style>
body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; text-align: center; }
.container { max-width: 900px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
h2 { color: #004080; }
ul { list-style: none; padding: 0; }
li { background: #e6f0ff; margin: 8px 0; padding: 10px; border-radius: 5px; }
input { padding: 5px; margin: 3px; border-radius: 4px; border: 1px solid #ccc; width: 90%; }
button { padding: 5px 10px; margin: 3px; border: none; border-radius: 5px; cursor: pointer; }
button[type=button] { background: #007bff; color: #fff; }
button[type=button]:hover { background: #0056b3; }
button[style*="background"] { background: #dc3545; color: #fff; }
button[style*="background"]:hover { background: #b02a37; }
a { display: inline-block; margin-top: 20px; text-decoration: none; color: #007bff; }
</style>
</head>
<body>
<div class="container">
<h1>Painel Admin Bonito</h1>

<h2>Jogos</h2>
<ul id="jogosLista"><li>Carregando...</li></ul>

<h2>Perguntas</h2>
<ul id="perguntasLista"><li>Carregando...</li></ul>

<h2>Premiações</h2>
<ul id="premiosLista"><li>Carregando...</li></ul>

<a href="index.html">Voltar ao Início</a>
</div>
</body>
</html>
