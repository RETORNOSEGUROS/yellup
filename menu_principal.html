
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Menu Principal - Yellup</title>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC5ZrkEy7KuCFJOtPvI7-P-JcA0MF4im5c",
      authDomain: "painel-yellup.firebaseapp.com",
      projectId: "painel-yellup",
      storageBucket: "painel-yellup.appspot.com",
      messagingSenderId: "608347210297",
      appId: "1:608347210297:web:75092713724e617c7203e8",
      measurementId: "G-SYZ16X31KQ"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    onAuthStateChanged(auth, (user) => {
      const content = document.getElementById("menu");
      const status = document.getElementById("status");
      if (!user) {
        status.innerHTML = "Usuário não logado. Redirecionando...";
        window.location.href = "login_usuario.html";
        return;
      }

      status.innerHTML = `Logado como <strong>${user.email}</strong>`;

      let html = "<ul>";
      html += "<li><a href='usuario.html'>Painel do Usuário</a></li>";
      html += "<li><a href='responder_pergunta.html'>Responder Pergunta</a></li>";

      if (user.email === "admin@yellup.com") {
        html += "<li><a href='admin_cadastro_pergunta.html'>Cadastro de Perguntas (Admin)</a></li>";
      }

      html += "</ul><button onclick='logout()'>Sair</button>";
      content.innerHTML = html;
    });

    window.logout = () => {
      signOut(auth).then(() => window.location.href = "login_usuario.html");
    };
  </script>
  <style>
    body { font-family: Arial; background: #f4f4f4; text-align: center; padding: 30px; }
    .box { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    ul { list-style: none; padding: 0; }
    li { margin: 10px 0; }
    a { text-decoration: none; color: #007bff; font-size: 18px; }
    a:hover { text-decoration: underline; }
    button { margin-top: 20px; padding: 10px 15px; border: none; background: #dc3545; color: white; border-radius: 5px; cursor: pointer; }
  </style>
</head>
<body>
  <div class="box">
    <h1>Menu Principal</h1>
    <p id="status">Verificando login...</p>
    <div id="menu"></div>
  </div>
</body>
</html>
