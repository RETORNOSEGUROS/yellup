<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Painel do Usuário</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>

  <!-- Fontes modernas (parecido com o Futez) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Tema por time + seus estilos -->
  <link rel="stylesheet" href="css/tema-time.css"/>
  <link rel="stylesheet" href="css/style.css"/>
  <link rel="stylesheet" href="css/yellup-ui.css"/>

  <!-- Ajustes finos de UI -->
  <style>
    :root{
      --yl-bg:#0f1720;
      --yl-card:#18222e;
      --yl-text:#e7eef7;
      --yl-text-50:#a9b5c6;
      --yl-pill:#223041;
      --yl-accent:#ffb547;
    }
    html,body{background:#0e141b}
    body{font-family:"Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";}
    .yl-header{
      height:60px; display:flex; align-items:center; gap:12px;
      padding:0 16px; background:#0e141b; border-bottom:1px solid rgba(255,255,255,.06);
      position:sticky; top:0; z-index:50;
    }
    .yl-logo{max-height:34px; width:auto; object-fit:contain} /* maior sem aumentar o header */
    .yl-pills{display:flex; gap:8px}
    .yl-pill{background:var(--yl-pill); color:var(--yl-text-50); padding:8px 12px; border-radius:999px; text-decoration:none; font-weight:600}
    .yl-pill:hover{color:var(--yl-text)}
    .yl-pill[data-cta]{background:rgba(255,181,71,.18); color:#ffd89a; border:1px solid rgba(255,181,71,.35)}
    .text-white-75{color:var(--yl-text-50)}
    .yl-chip{background:#152131; color:#d7e4f4; border:1px solid rgba(255,255,255,.06); padding:6px 10px; border-radius:10px}
    .yl-section-title{color:#d7e4f4; font-weight:700}
    /* Cartões de partida */
    .yl-match{background:var(--yl-card); border-radius:16px; padding:12px; border:1px solid rgba(255,255,255,.06)}
    .yl-match-header{display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px}
    .yl-team-side{display:flex; align-items:center; gap:8px; font-weight:700; color:#eff6ff; white-space:nowrap; overflow:hidden; text-overflow:ellipsis}
    .yl-dot{display:inline-block; width:8px; height:8px; border-radius:50%}
    .yl-meta{display:flex; align-items:center; gap:6px}
    .yl-badge{background:#1f2c3c; color:#c9d7ea; border:1px solid rgba(255,255,255,.08); padding:4px 8px; border-radius:8px; font-weight:600; font-size:.75rem}
    .yl-live{background:#ed4250; color:#fff; border:none}
    .yl-thermo{display:inline-block; width:44px; height:6px; background:#0f1a27; border-radius:4px; overflow:hidden; vertical-align:middle}
    .yl-thermo-fill{height:100%}
    .yl-actions{display:flex; gap:8px; margin-top:10px}
    .yl-btn{border-radius:12px; padding:8px 12px; font-weight:700}
    .yl-btn-primary{background:#2f6fed; color:#fff; border:none}
    .yl-btn-outline{background:transparent; color:#d7e4f4; border:1px solid rgba(255,255,255,.15)}
    /* Bottom nav com avatar */
    .yl-bottom-nav{position:sticky; bottom:0; background:#0e141b; border-top:1px solid rgba(255,255,255,.06); padding:6px 0}
    .yl-nav-wrap{display:flex; justify-content:space-around}
    .yl-nav-wrap a{display:flex; flex-direction:column; align-items:center; gap:4px; color:#a9b5c6; text-decoration:none; font-weight:600; font-size:.8rem}
    .yl-nav-wrap a.active{color:#fff}
    .yl-avatar{width:22px; height:22px; border-radius:50%; object-fit:cover; border:1px solid rgba(255,255,255,.2)}
    /* Modal de convite */
    .yl-modal-back{position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; z-index:60}
    .yl-modal{background:#0f1720; border:1px solid rgba(255,255,255,.08); border-radius:16px; max-width:520px; width:92%; padding:16px}
    .yl-modal h5{color:#e7eef7; font-weight:700}
    .yl-close{background:transparent; border:none; color:#cbd6e6; font-weight:700}
    .yl-spacer{flex:1}
  </style>
</head>
<body>

  <!-- Header -->
  <header class="yl-header">
    <img class="yl-logo" src="/usuarios/img/logo-yellup.png" alt="Yellup"/>
    <div class="yl-spacer"></div>
    <nav class="yl-pills">
      <a class="yl-pill" href="#secHoje"   data-nav="hoje">Hoje</a>
      <a class="yl-pill" href="#secAmanha" data-nav="amanha">Amanhã</a>
      <a class="yl-pill" href="#secOntem"  data-nav="ontem">Ontem</a>
      <a class="yl-pill" data-cta href="#" id="btnIndiqueTopo">Indique</a>
    </nav>
  </header>

  <!-- Saudação / dados -->
  <div class="container mt-2 text-center">
    <h5 class="text-white-75">Bem-vindo, <span id="nomeUsuario">Usuário</span>!</h5>
  </div>

  <!-- Chips compactas (SEM "Editar Perfil" no centro) -->
  <div class="container mt-2">
    <div class="yl-stats d-flex flex-wrap justify-content-center gap-2">
      <span class="yl-chip"><strong>Créditos:</strong> <span id="creditos">0</span></span>
      <span class="yl-chip"><strong>Pontuação:</strong> <span id="pontuacao">0</span></span>
      <span class="yl-chip"><strong>Time do coração:</strong> <span id="timeCoracao">---</span></span>
    </div>
  </div>

  <!-- Partidas -->
  <div class="container mt-4">
    <h4 class="mb-3 text-white">Partidas</h4>

    <section id="secHoje" class="yl-section">
      <h6 class="yl-section-title">Hoje</h6>
      <div id="listaHoje" class="row g-3"></div>
    </section>

    <section id="secAmanha" class="yl-section mt-4">
      <h6 class="yl-section-title">Amanhã</h6>
      <div id="listaAmanha" class="row g-3"></div>
    </section>

    <section id="secOntem" class="yl-section mt-4 mb-5">
      <h6 class="yl-section-title">Ontem</h6>
      <div id="listaOntem" class="row g-3"></div>
    </section>
  </div>

  <!-- Bottom Nav (Perfil com avatar) -->
  <nav class="yl-bottom-nav">
    <div class="yl-nav-wrap">
      <a href="#secHoje" data-nav class="active">
        <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
        <span>Hoje</span>
      </a>
      <a href="#secAmanha" data-nav>
        <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22"><path d="M7 17l9-5-9-5v10z"/></svg>
        <span>Amanhã</span>
      </a>
      <a href="#secOntem" data-nav>
        <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
        <span>Ontem</span>
      </a>
      <a href="editar-perfil.html" data-nav id="perfilLink">
        <img id="avatarImg" class="yl-avatar" src="/usuarios/img/avatar-fallback.png" alt="Perfil"/>
        <span>Perfil</span>
      </a>
      <a href="#" id="btnIndiqueRodape">
        <svg viewBox="0 0 24 24" fill="currentColor" width="22" height="22"><path d="M15 8a3 3 0 10-6 0 3 3 0 006 0zm-9 8a7 7 0 0114 0H6zM19 10h2v6h-2zM3 10h2v6H3z"/></svg>
        <span>Indique</span>
      </a>
    </div>
  </nav>

  <!-- MODAL: Indique Amigos -->
  <div class="yl-modal-back" id="modalIndique">
    <div class="yl-modal">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h5>Indique amigos</h5>
        <button class="yl-close" id="fecharModal">✕</button>
      </div>
      <p class="mb-2" style="color:var(--yl-text-50)">Copie seu link e compartilhe:</p>
      <input type="text" id="linkConvite" class="form-control mb-2" readonly />
      <button class="yl-btn yl-btn-primary w-100" id="btnCopiarLink">Copiar Link</button>
    </div>
  </div>

  <!-- Firebase + init -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script src="js/firebase-init.js"></script>

  <!-- Lógica do painel -->
  <script src="js/painel.js"></script>

  <!-- UI helper -->
  <script>
    // abre/fecha modal de convite
    const modal = document.getElementById('modalIndique');
    const openers = [document.getElementById('btnIndiqueTopo'), document.getElementById('btnIndiqueRodape')];
    openers.forEach(btn => btn && btn.addEventListener('click', (e)=>{ e.preventDefault(); modal.style.display='flex'; }));
    document.getElementById('fecharModal').onclick = ()=> modal.style.display='none';
    document.getElementById('btnCopiarLink').onclick = async ()=>{
      const input = document.getElementById('linkConvite');
      try{
        if(navigator.clipboard){ await navigator.clipboard.writeText(input.value); alert('Link copiado!'); }
        else{ input.select(); document.execCommand('copy'); alert('Link copiado!'); }
      }catch{ alert('Não foi possível copiar.'); }
    };
  </script>
</body>
</html>
