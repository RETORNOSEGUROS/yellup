<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerar Perguntas V8 - Yellup</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Poppins', sans-serif; 
            background: linear-gradient(135deg, #0a0e14 0%, #1a1a2e 100%); 
            color: #e4e8ee; 
            min-height: 100vh; 
            padding: 20px;
        }
        .container { max-width: 900px; margin: 0 auto; }
        
        h1 { text-align: center; font-size: 1.6rem; margin-bottom: 5px; color: #ffb547; }
        .subtitle { text-align: center; color: #6b7280; margin-bottom: 25px; font-size: 0.85rem; }
        
        .card {
            background: rgba(255,255,255,0.03);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
        }
        .card-title {
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #ffb547;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Tipo Tabs */
        .tipo-tabs { display: flex; gap: 10px; }
        .tipo-tab {
            flex: 1;
            padding: 18px;
            background: rgba(255,255,255,0.03);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
        }
        .tipo-tab:hover { border-color: rgba(255,181,71,0.3); }
        .tipo-tab.active { border-color: #ffb547; background: rgba(255,181,71,0.1); }
        .tipo-tab .icon { font-size: 2rem; margin-bottom: 5px; }
        .tipo-tab .label { font-size: 0.9rem; font-weight: 600; }
        
        /* Search */
        .search-box { position: relative; margin-bottom: 15px; }
        .search-box input {
            width: 100%;
            padding: 14px 15px 14px 45px;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: #e4e8ee;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
        }
        .search-box input:focus { outline: none; border-color: #ffb547; }
        .search-box .icon { position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: #6b7280; }
        
        .dropdown {
            position: absolute; top: 100%; left: 0; right: 0;
            background: #1a1a2e;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            max-height: 280px;
            overflow-y: auto;
            z-index: 100;
            display: none;
            margin-top: 5px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);
        }
        .dropdown.show { display: block; }
        .dropdown-item {
            padding: 12px 15px;
            cursor: pointer;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .dropdown-item:hover { background: rgba(255,181,71,0.1); }
        .dropdown-count { padding: 8px 15px; background: rgba(0,0,0,0.3); font-size: 0.75rem; color: #6b7280; }
        
        /* Selecionado */
        .selecionado {
            background: linear-gradient(135deg, rgba(34,197,94,0.15), rgba(34,197,94,0.05));
            border: 1px solid rgba(34,197,94,0.3);
            border-radius: 12px;
            padding: 15px;
            display: none;
            align-items: center;
            gap: 12px;
        }
        .selecionado.show { display: flex; }
        .selecionado .icon { font-size: 2rem; }
        .selecionado .info h4 { font-size: 1.1rem; }
        .selecionado .info p { font-size: 0.8rem; color: #6b7280; }
        .selecionado .trocar {
            margin-left: auto;
            padding: 8px 15px;
            background: rgba(255,255,255,0.1);
            border: none; border-radius: 8px;
            color: white; cursor: pointer; font-size: 0.8rem;
        }
        
        /* Tema */
        textarea {
            width: 100%;
            padding: 14px;
            border-radius: 10px;
            border: 2px solid rgba(255,255,255,0.1);
            background: rgba(255,255,255,0.05);
            color: #e4e8ee;
            font-size: 0.95rem;
            font-family: 'Poppins', sans-serif;
            min-height: 90px;
            resize: vertical;
        }
        textarea:focus { outline: none; border-color: #ffb547; }
        
        .exemplos { display: flex; gap: 8px; flex-wrap: wrap; margin: 12px 0; }
        .exemplo {
            padding: 6px 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .exemplo:hover { background: rgba(255,181,71,0.2); border-color: rgba(255,181,71,0.3); }
        
        /* BotÃ£o */
        .btn-gerar {
            width: 100%;
            padding: 16px;
            background: linear-gradient(135deg, #ffb547, #ff9500);
            border: none;
            border-radius: 12px;
            color: #0a0e14;
            font-size: 1.05rem;
            font-weight: 700;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.2s;
        }
        .btn-gerar:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(255,181,71,0.3); }
        .btn-gerar:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }
        
        /* Resultado */
        .resultado { display: none; }
        .resultado.show { display: block; }
        
        .resultado-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        .resultado-header h3 { color: #22c55e; font-size: 1rem; display: flex; align-items: center; gap: 8px; }
        
        .btn-copiar {
            padding: 10px 20px;
            background: #22c55e;
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            gap: 6px;
        }
        .btn-copiar:hover { background: #16a34a; }
        
        .btn-download {
            padding: 12px 20px;
            background: rgba(59,130,246,0.2);
            border: 1px solid rgba(59,130,246,0.4);
            border-radius: 8px;
            color: #60a5fa;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Poppins', sans-serif;
            display: flex;
            align-items: center;
            gap: 6px;
            transition: all 0.2s;
        }
        .btn-download:hover { background: rgba(59,130,246,0.3); }
        .btn-download.success { background: rgba(34,197,94,0.2); border-color: rgba(34,197,94,0.4); color: #22c55e; }
        .btn-download.success:hover { background: #22c55e; color: white; }
        .btn-download:disabled { opacity: 0.5; cursor: not-allowed; }
        
        .json-valid { color: #22c55e; }
        .json-error { color: #ef4444; }
        
        .prompt-box {
            background: #0a0e14;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 18px;
            font-family: 'Monaco', 'Consolas', monospace;
            font-size: 0.82rem;
            line-height: 1.6;
            white-space: pre-wrap;
            max-height: 500px;
            overflow-y: auto;
            color: #d4d4d8;
        }
        
        .info-box {
            background: rgba(59,130,246,0.1);
            border: 1px solid rgba(59,130,246,0.3);
            border-radius: 10px;
            padding: 12px 15px;
            margin-top: 15px;
            font-size: 0.85rem;
            color: #93c5fd;
        }
        
        .toast {
            position: fixed; bottom: 20px; right: 20px;
            padding: 15px 25px;
            background: linear-gradient(135deg, #22c55e, #16a34a);
            border-radius: 10px;
            color: white;
            font-weight: 500;
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }
        @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
        
        .hidden { display: none !important; }
    </style>
</head>
<body>
    <div class="container">
        <h1>âš½ Gerador de Perguntas V8</h1>
        <p class="subtitle">Interface simples â€¢ Regras completas â€¢ 20 perguntas por vez</p>

        <!-- Tipo -->
        <div class="card">
            <div class="card-title"><span class="material-icons">category</span> Tipo</div>
            <div class="tipo-tabs">
                <div class="tipo-tab active" onclick="setTipo('time')">
                    <div class="icon">âš½</div>
                    <div class="label">Time</div>
                </div>
                <div class="tipo-tab" onclick="setTipo('camp')">
                    <div class="icon">ğŸ†</div>
                    <div class="label">Campeonato</div>
                </div>
            </div>
        </div>

        <!-- Entidade -->
        <div class="card">
            <div class="card-title"><span class="material-icons">search</span> <span id="labelEntidade">Selecione o Time</span></div>
            <div class="search-box" id="searchBox">
                <span class="material-icons icon">search</span>
                <input type="text" id="searchInput" placeholder="Digite para buscar..." autocomplete="off">
                <div class="dropdown" id="dropdown"></div>
            </div>
            <div class="selecionado" id="selecionado">
                <span class="icon" id="entIcon">âš½</span>
                <div class="info">
                    <h4 id="entNome">-</h4>
                    <p id="entInfo">-</p>
                </div>
                <button class="trocar" onclick="trocar()">âœ• Trocar</button>
            </div>
        </div>

        <!-- Tema -->
        <div class="card">
            <div class="card-title"><span class="material-icons">topic</span> Tema das Perguntas</div>
            <textarea id="tema" placeholder="Sobre o que serÃ£o as perguntas?&#10;&#10;Exemplos:&#10;â€¢ Perguntas sobre RomÃ¡rio na seleÃ§Ã£o&#10;â€¢ CampeÃµes de 1990 a 2010&#10;â€¢ Jogadores que fizeram histÃ³ria no clube"></textarea>
            <div class="exemplos" id="exemplos"></div>
            <button class="btn-gerar" onclick="gerar()" id="btnGerar" disabled>
                <span class="material-icons">auto_awesome</span>
                Gerar Prompt (20 perguntas)
            </button>
        </div>

        <!-- Resultado -->
        <div class="card resultado" id="resultado">
            <div class="resultado-header">
                <h3><span class="material-icons">check_circle</span> Prompt Gerado</h3>
                <button class="btn-copiar" onclick="copiar()">
                    <span class="material-icons">content_copy</span> Copiar
                </button>
            </div>
            <div class="prompt-box" id="promptBox"></div>
            <div class="info-box">
                ğŸ’¡ Cole esse prompt no <strong>Claude</strong> ou <strong>ChatGPT</strong>. Depois cole o JSON no importador do seu sistema.
            </div>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

    <script>
        firebase.initializeApp({
            apiKey: "AIzaSyC5ZrkEy7KuCFJOtPvI7-P-JcA0MF4im5c",
            authDomain: "painel-yellup.firebaseapp.com",
            projectId: "painel-yellup",
            storageBucket: "painel-yellup.appspot.com",
            messagingSenderId: "608347210297",
            appId: "1:608347210297:web:75092713724e617c7203e8"
        });
        var db = firebase.firestore();
        var auth = firebase.auth();

        var times = [], camps = [];
        var tipo = 'time';
        var entidade = null;
        var jsonValido = null;

        var exTime = [
            'Jogadores histÃ³ricos',
            'TÃ­tulos conquistados', 
            'Artilheiros',
            'DÃ©cadas (ex: anos 80)',
            'TÃ©cnicos marcantes',
            'Rivalidades e clÃ¡ssicos',
            'HistÃ³ria do estÃ¡dio',
            'Jogador especÃ­fico'
        ];
        var exCamp = [
            'CampeÃµes por dÃ©cada',
            'Finais histÃ³ricas',
            'Artilheiros de todas ediÃ§Ãµes',
            'Recordes do campeonato',
            'Times mais vezes campeÃµes',
            'Goleadas marcantes',
            'EdiÃ§Ã£o especÃ­fica (ex: 2019)',
            'Curiosidades e fatos'
        ];

        document.addEventListener('DOMContentLoaded', function() {
            auth.onAuthStateChanged(function(user) {
                if (!user || user.email !== "admin@yellup.com") {
                    window.location.href = "login.html";
                } else {
                    carregar();
                }
            });
            setup();
            renderExemplos();
        });

        async function carregar() {
            var st = await db.collection('times').orderBy('nome').get();
            times = []; st.forEach(function(d) { times.push({id: d.id, ...d.data()}); });
            
            var sc = await db.collection('campeonatos').orderBy('nome').get();
            camps = []; sc.forEach(function(d) { camps.push({id: d.id, ...d.data()}); });
        }

        function setup() {
            var input = document.getElementById('searchInput');
            input.addEventListener('focus', showDropdown);
            input.addEventListener('input', showDropdown);
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-box')) {
                    document.getElementById('dropdown').classList.remove('show');
                }
            });
            document.getElementById('tema').addEventListener('input', checkBtn);
        }

        function setTipo(t) {
            tipo = t;
            entidade = null;
            document.querySelectorAll('.tipo-tab').forEach(function(x) { x.classList.remove('active'); });
            document.querySelectorAll('.tipo-tab')[t === 'time' ? 0 : 1].classList.add('active');
            document.getElementById('labelEntidade').textContent = t === 'time' ? 'Selecione o Time' : 'Selecione o Campeonato';
            document.getElementById('searchInput').value = '';
            document.getElementById('searchBox').classList.remove('hidden');
            document.getElementById('selecionado').classList.remove('show');
            document.getElementById('btnGerar').disabled = true;
            document.getElementById('resultado').classList.remove('show');
            renderExemplos();
        }

        function showDropdown() {
            var input = document.getElementById('searchInput');
            var drop = document.getElementById('dropdown');
            var busca = input.value.toLowerCase();
            var lista = tipo === 'time' ? times : camps;
            
            var filtrados = lista.filter(function(x) { return x.nome.toLowerCase().includes(busca); });
            var icon = tipo === 'time' ? 'âš½' : 'ğŸ†';
            
            var html = '<div class="dropdown-count">' + filtrados.length + ' encontrados</div>';
            html += filtrados.slice(0, 25).map(function(x) {
                return '<div class="dropdown-item" onclick="selecionar(\'' + x.id + '\')">' +
                    '<span>' + icon + '</span>' +
                    '<span>' + x.nome + (x.pais ? ' <small style="color:#6b7280;">(' + x.pais + ')</small>' : '') + '</span>' +
                '</div>';
            }).join('');
            
            drop.innerHTML = html;
            drop.classList.add('show');
        }

        function selecionar(id) {
            var lista = tipo === 'time' ? times : camps;
            entidade = lista.find(function(x) { return x.id === id; });
            if (!entidade) return;
            
            document.getElementById('dropdown').classList.remove('show');
            document.getElementById('searchBox').classList.add('hidden');
            document.getElementById('entIcon').textContent = tipo === 'time' ? 'âš½' : 'ğŸ†';
            document.getElementById('entNome').textContent = entidade.nome;
            document.getElementById('entInfo').textContent = (tipo === 'time' ? 'Time' : 'Campeonato') + (entidade.pais ? ' â€¢ ' + entidade.pais : '');
            document.getElementById('selecionado').classList.add('show');
            checkBtn();
        }

        function trocar() {
            entidade = null;
            document.getElementById('searchBox').classList.remove('hidden');
            document.getElementById('selecionado').classList.remove('show');
            document.getElementById('searchInput').value = '';
            document.getElementById('searchInput').focus();
            document.getElementById('btnGerar').disabled = true;
        }

        function renderExemplos() {
            var lista = tipo === 'time' ? exTime : exCamp;
            document.getElementById('exemplos').innerHTML = lista.map(function(e) {
                return '<span class="exemplo" onclick="usarEx(\'' + e.replace(/'/g, "\\'") + '\')">' + e + '</span>';
            }).join('');
        }

        function usarEx(t) { document.getElementById('tema').value = t; checkBtn(); }

        function checkBtn() {
            var ok = entidade !== null && document.getElementById('tema').value.trim().length > 2;
            document.getElementById('btnGerar').disabled = !ok;
        }

        function gerar() {
            if (!entidade) return;
            var tema = document.getElementById('tema').value.trim();
            var prompt = gerarPrompt(entidade, tema);
            document.getElementById('promptBox').textContent = prompt;
            document.getElementById('resultado').classList.add('show');
            
            // Resetar Ã¡rea de JSON
            document.getElementById('jsonArea').style.display = 'none';
            document.getElementById('jsonInput').value = '';
            document.getElementById('jsonStatus').innerHTML = '';
            document.getElementById('btnBaixar').disabled = true;
            jsonValido = null;
            
            document.getElementById('resultado').scrollIntoView({ behavior: 'smooth' });
        }

        function gerarPrompt(ent, tema) {
            // Gerar prefixo para ID
            var prefixo = ent.nome.toLowerCase()
                .normalize('NFD').replace(/[\u0300-\u036f]/g, '')
                .replace(/[^a-z0-9]/g, '-')
                .replace(/-+/g, '-')
                .substring(0, 12);
            
            if (tipo === 'time') {
                return `Gere exatamente 20 perguntas de quiz sobre o time ${ent.nome}.

TEMA: ${tema}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ VERIFICAÃ‡ÃƒO OBRIGATÃ“RIA - LEIA ANTES DE COMEÃ‡AR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ANTES de criar cada pergunta, vocÃª DEVE:
1. TER CERTEZA ABSOLUTA que o fato Ã© verdadeiro
2. SÃ³ incluir jogadores que REALMENTE jogaram neste time
3. SÃ³ incluir tÃ­tulos que o time REALMENTE conquistou
4. SÃ³ incluir datas/nÃºmeros que vocÃª tem CERTEZA

âš ï¸ EVITE PERGUNTAS QUE PODEM FICAR OBSOLETAS:
- NÃƒO pergunte "maior artilheiro DA HISTÃ“RIA" (pode mudar)
- NÃƒO pergunte "recorde de jogos/gols" (pode ser quebrado)
- NÃƒO pergunte "quem tem mais tÃ­tulos" (pode mudar)
- PREFIRA perguntas com DATA FIXA: "artilheiro do BrasileirÃ£o 2008", "quem fez o gol na final de 1985", "campeÃ£o de 1990"

âŒ RUIM: "Quem Ã© o maior artilheiro da histÃ³ria do clube?"
âœ… BOM: "Quem foi o artilheiro do Campeonato Brasileiro de 2008 pelo Coritiba?"

âŒ RUIM: "Qual jogador tem mais jogos pelo time?"  
âœ… BOM: "Qual goleiro foi titular na conquista do Brasileiro de 1985?"

âŒ NÃƒO INCLUA perguntas se:
- VocÃª nÃ£o tem 100% de certeza do fato
- O jogador PODE ter jogado no time mas vocÃª nÃ£o tem certeza
- VocÃª estÃ¡ "chutando" ou "supondo"

âœ… PREFIRA perguntas sobre:
- Fatos histÃ³ricos amplamente documentados
- TÃ­tulos oficiais e datas confirmadas  
- Jogadores ÃCONES indiscutÃ­veis do clube
- Recordes oficiais reconhecidos

Se nÃ£o conseguir 20 perguntas CORRETAS, faÃ§a menos.
Ã‰ melhor 15 certas do que 20 com erros.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FORMATO JSON OBRIGATÃ“RIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
  {
    "id": "${prefixo}-001",
    "pergunta": "Texto da pergunta aqui?",
    "alternativas": {
      "A": "Primeira alternativa",
      "B": "Segunda alternativa",
      "C": "Terceira alternativa",
      "D": "Quarta alternativa"
    },
    "correta": "B",
    "pontuacao": 5,
    "timeId": "${ent.id}",
    "timeNome": "${ent.nome}",
    "campeonatoId": "",
    "campeonatoNome": "",
    "fonte": "Wikipedia - Nome do Artigo EspecÃ­fico"
  }
]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
REGRAS DE QUALIDADE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ IDs: ${prefixo}-001, ${prefixo}-002, ${prefixo}-003...

ğŸ“Œ PONTUAÃ‡ÃƒO:
- 1-4 = FÃCIL (torcedor casual sabe)
- 5-6 = MÃ‰DIO (torcedor dedicado sabe)
- 7-10 = DIFÃCIL (sÃ³ historiador sabe)

ğŸ“Œ DISTRIBUIÃ‡ÃƒO: ~30% fÃ¡cil, ~40% mÃ©dio, ~30% difÃ­cil

ğŸ“Œ ALTERNATIVAS:
- 4 opÃ§Ãµes plausÃ­veis da mesma categoria
- NUNCA "Todas/Nenhuma das anteriores"

ğŸ“Œ FONTE: Seja especÃ­fico (ex: "Wikipedia - Coritiba FC")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Retorne APENAS o JSON, sem explicaÃ§Ãµes.`;
            } else {
                return `Gere exatamente 20 perguntas de quiz sobre o campeonato ${ent.nome}.

TEMA: ${tema}

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ VERIFICAÃ‡ÃƒO OBRIGATÃ“RIA - LEIA ANTES DE COMEÃ‡AR
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ANTES de criar cada pergunta, vocÃª DEVE:
1. TER CERTEZA ABSOLUTA que o fato Ã© verdadeiro
2. SÃ³ incluir campeÃµes que REALMENTE venceram nas datas citadas
3. SÃ³ incluir artilheiros/recordes CONFIRMADOS oficialmente
4. SÃ³ incluir datas/nÃºmeros que vocÃª tem CERTEZA

âš ï¸ EVITE PERGUNTAS QUE PODEM FICAR OBSOLETAS:
- NÃƒO pergunte "maior artilheiro DA HISTÃ“RIA" (pode mudar)
- NÃƒO pergunte "time com mais tÃ­tulos" (pode mudar)
- NÃƒO pergunte "recorde de gols/pontos" (pode ser quebrado)
- PREFIRA perguntas com DATA FIXA: "campeÃ£o de 2019", "artilheiro da ediÃ§Ã£o de 2015", "final de 1990"

âŒ RUIM: "Qual time mais vezes foi campeÃ£o?"
âœ… BOM: "Qual time foi campeÃ£o em 2019?"

âŒ RUIM: "Quem Ã© o maior artilheiro da histÃ³ria do campeonato?"
âœ… BOM: "Quem foi o artilheiro da ediÃ§Ã£o de 2008?"

âŒ NÃƒO INCLUA perguntas se:
- VocÃª nÃ£o tem 100% de certeza do fato
- O dado pode estar desatualizado
- VocÃª estÃ¡ "chutando" ou "supondo"

âœ… PREFIRA perguntas sobre:
- CampeÃµes histÃ³ricos confirmados
- Finais histÃ³ricas bem documentadas
- Recordes oficiais da competiÃ§Ã£o
- Fatos amplamente conhecidos

Se nÃ£o conseguir 20 perguntas CORRETAS, faÃ§a menos.
Ã‰ melhor 15 certas do que 20 com erros.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FORMATO JSON OBRIGATÃ“RIO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

[
  {
    "id": "${prefixo}-001",
    "pergunta": "Texto da pergunta aqui?",
    "alternativas": {
      "A": "Primeira alternativa",
      "B": "Segunda alternativa",
      "C": "Terceira alternativa",
      "D": "Quarta alternativa"
    },
    "correta": "B",
    "pontuacao": 5,
    "timeId": "",
    "timeNome": "",
    "campeonatoId": "${ent.id}",
    "campeonatoNome": "${ent.nome}",
    "fonte": "Wikipedia - Nome do Artigo EspecÃ­fico"
  }
]

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
REGRAS DE QUALIDADE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“Œ IDs: ${prefixo}-001, ${prefixo}-002, ${prefixo}-003...

ğŸ“Œ PONTUAÃ‡ÃƒO:
- 1-4 = FÃCIL (fÃ£ casual sabe)
- 5-6 = MÃ‰DIO (quem acompanha sabe)
- 7-10 = DIFÃCIL (sÃ³ especialista sabe)

ğŸ“Œ DISTRIBUIÃ‡ÃƒO: ~30% fÃ¡cil, ~40% mÃ©dio, ~30% difÃ­cil

ğŸ“Œ ALTERNATIVAS:
- 4 opÃ§Ãµes plausÃ­veis da mesma categoria
- NUNCA "Todas/Nenhuma das anteriores"

ğŸ“Œ FONTE: Seja especÃ­fico (ex: "Wikipedia - Campeonato Brasileiro")

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Retorne APENAS o JSON, sem explicaÃ§Ãµes.`;
            }
        }

        function copiar() {
            var texto = document.getElementById('promptBox').textContent;
            navigator.clipboard.writeText(texto).then(function() {
                var btn = document.querySelector('.btn-copiar');
                btn.innerHTML = '<span class="material-icons">check</span> Copiado!';
                
                // Mostrar Ã¡rea de JSON
                document.getElementById('jsonArea').style.display = 'block';
                
                var toast = document.createElement('div');
                toast.className = 'toast';
                toast.innerHTML = '<span class="material-icons">check_circle</span> Prompt copiado! Cole no Claude/ChatGPT';
                document.body.appendChild(toast);
                
                setTimeout(function() { 
                    btn.innerHTML = '<span class="material-icons">content_copy</span> Copiar';
                    toast.remove();
                }, 3000);
            });
        }

        function validarJSON() {
            var texto = document.getElementById('jsonInput').value.trim();
            var status = document.getElementById('jsonStatus');
            var btnBaixar = document.getElementById('btnBaixar');
            
            // Limpar possÃ­veis marcaÃ§Ãµes de cÃ³digo
            texto = texto.replace(/^```json\s*/i, '').replace(/^```\s*/i, '').replace(/\s*```$/i, '');
            
            try {
                var json = JSON.parse(texto);
                
                if (!Array.isArray(json)) {
                    throw new Error('JSON deve ser um array de perguntas');
                }
                
                if (json.length === 0) {
                    throw new Error('Array estÃ¡ vazio');
                }
                
                // Validar estrutura bÃ¡sica
                var erros = [];
                json.forEach(function(p, i) {
                    if (!p.pergunta) erros.push('Pergunta ' + (i+1) + ': falta campo "pergunta"');
                    if (!p.alternativas) erros.push('Pergunta ' + (i+1) + ': falta campo "alternativas"');
                    if (!p.correta) erros.push('Pergunta ' + (i+1) + ': falta campo "correta"');
                });
                
                if (erros.length > 0) {
                    throw new Error(erros.slice(0, 3).join('; '));
                }
                
                // Contar dificuldades
                var facil = 0, medio = 0, dificil = 0;
                json.forEach(function(p) {
                    var pts = p.pontuacao || 5;
                    if (pts <= 4) facil++;
                    else if (pts <= 6) medio++;
                    else dificil++;
                });
                
                jsonValido = json;
                btnBaixar.disabled = false;
                status.className = 'json-valid';
                status.innerHTML = '<span class="material-icons" style="font-size:18px;vertical-align:middle;">check_circle</span> ' +
                    '<strong>JSON vÃ¡lido!</strong> ' + json.length + ' perguntas (' + 
                    facil + ' fÃ¡ceis, ' + medio + ' mÃ©dias, ' + dificil + ' difÃ­ceis)';
                
            } catch (e) {
                jsonValido = null;
                btnBaixar.disabled = true;
                status.className = 'json-error';
                status.innerHTML = '<span class="material-icons" style="font-size:18px;vertical-align:middle;">error</span> ' +
                    '<strong>Erro:</strong> ' + e.message;
            }
        }

        function baixarJSON() {
            if (!jsonValido || !entidade) return;
            
            var nomeArquivo = entidade.nome.toLowerCase()
                .normalize('NFD').replace(/[\u0300-\u036f]/g, '')
                .replace(/[^a-z0-9]/g, '-')
                .replace(/-+/g, '-') + '-' + new Date().toISOString().slice(0,10) + '.json';
            
            var blob = new Blob([JSON.stringify(jsonValido, null, 2)], { type: 'application/json' });
            var url = URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = nomeArquivo;
            a.click();
            URL.revokeObjectURL(url);
            
            var toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = '<span class="material-icons">download_done</span> Arquivo ' + nomeArquivo + ' baixado!';
            document.body.appendChild(toast);
            setTimeout(function() { toast.remove(); }, 3000);
        }
    </script>
</body>
</html>
