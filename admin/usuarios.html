
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cadastro de Usuários</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"/>
  <style>
    body { background-color: #f4f6f9; }
    .container { max-width: 950px; margin-top: 30px; }
    .table th { background-color: #1f1f1f; color: white; }
    .btn-edit { background-color: #0d6efd; color: white; }
    .btn-delete { background-color: #dc3545; color: white; }
  </style>
</head>
<body>
  <div class="container">
    <h4><b>Cadastro de Usuários</b></h4>
    <div class="row">
      <div class="col-md-6">
        <label>Nome:</label><input id="nome" class="form-control mb-2"/>
        <label>Cidade:</label><input id="cidade" class="form-control mb-2"/>
        <label>País:</label><input id="pais" class="form-control mb-2" value="Brasil"/>
        <label>Celular:</label><input id="celular" class="form-control mb-2"/>
        <label>Time do Coração:</label><select id="timeId" class="form-control mb-2"><option>Selecione o Time</option></select>
        <label>Indicado Por:</label><select id="indicadoPor" class="form-control mb-2"><option>Selecione o Indicador</option></select>
        <label>Foto de Avatar:</label><input id="avatar" type="file" class="form-control mb-2"/>
        <div id="preview"></div>
      </div>
      <div class="col-md-6">
        <label>Data Nasc.:</label><input id="dataNascimento" type="date" class="form-control mb-2"/>
        <label>Estado:</label><input id="estado" class="form-control mb-2"/>
        <label>Email:</label><input id="email" class="form-control mb-2"/>
        <label>Usuário (único):</label><input id="usuarioUnico" class="form-control mb-2"/>
        <label>Créditos:</label><input id="creditos" class="form-control mb-2" type="number"/>
        <label>Status:</label><select id="status" class="form-control mb-2">
          <option value="ativo">Ativo</option><option value="inativo">Inativo</option>
        </select>
        <input type="hidden" id="timeIdEdit"/>
      </div>
    </div>
    <button onclick="salvarUsuario()" class="btn btn-primary mt-2 w-100">Salvar</button>

    <h5 class="mt-4">Usuários Cadastrados</h5>
    <div class="row">
      <div class="col-md-9"><input id="filtro" class="form-control" placeholder="Buscar por nome ou usuário..."/></div>
      <div class="col-md-3"><button class="btn btn-success w-100" onclick="exportarUsuariosParaCSV()">Exportar Excel</button></div>
    </div>
    <div class="table-responsive mt-2">
      <table class="table table-bordered table-striped mt-2 text-center align-middle">
        <thead><tr>
          <th>Avatar</th><th>Nome</th><th>Usuário</th><th>Time</th><th>Status</th>
          <th>Créditos</th><th>Indicado Por</th><th>Ações</th>
        </tr></thead>
        <tbody id="listaUsuarios"></tbody>
      </table>
    </div>
  </div>
  <script src="usuarios.js"></script>
</body>
</html>
