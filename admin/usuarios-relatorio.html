<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Relatórios de Usuários</title>
  <style>
    body { font-family: Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 40px; }
    .container { max-width: 1200px; margin: auto; background: white; padding: 30px; border-radius: 10px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    h1 { margin-bottom: 30px; }
    .grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; margin-bottom: 20px; }
    label { font-weight: bold; }
    input, select { width: 100%; padding: 10px; border-radius: 5px; border: 1px solid #ccc; }
    .buttons { margin-top: 20px; display: flex; gap: 10px; }
    button { padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; }
    .buscar { background: #3498db; color: white; }
    .excel { background: #27ae60; color: white; }
    .pdf { background: #e67e22; color: white; }
    table { width: 100%; border-collapse: collapse; margin-top: 30px; }
    th, td { padding: 10px; border: 1px solid #ddd; text-align: center; }
    th { background: #333; color: white; }
  </style>
</head>
<body>
<div class="container">
  <h1>Relatório Avançado de Usuários</h1>
  <div class="grid">
    <div><label>Status</label><select id="filtroStatus"><option value="">Todos</option><option value="ativo">Ativo</option><option value="inativo">Inativo</option></select></div>
    <div><label>Time do Coração</label><select id="filtroTime"></select></div>
    <div><label>Idade Mínima</label><input type="number" id="filtroIdadeMin" placeholder="Ex: 18" /></div>
    <div><label>Idade Máxima</label><input type="number" id="filtroIdadeMax" placeholder="Ex: 65" /></div>
    <div><label>Indicado Por</label><select id="filtroIndicador"></select></div>
    <div><label>Período de Cadastro (Início)</label><input type="date" id="filtroDataInicio" /></div>
    <div><label>Período de Cadastro (Fim)</label><input type="date" id="filtroDataFim" /></div>
    <div><label>Buscar por Nome/Usuário</label><input type="text" id="filtroBuscaUsuario" placeholder="Digite parte do nome ou usuário" /></div>
    <div><label>Cidade</label><input type="text" id="filtroCidade" /></div>
    <div><label>Estado</label><input type="text" id="filtroEstado" /></div>
    <div><label>País</label><input type="text" id="filtroPais" /></div>
    <div><label>Créditos Mínimos</label><input type="number" id="filtroCreditosMin" /></div>
    <div><label>Créditos Máximos</label><input type="number" id="filtroCreditosMax" /></div>
  </div>
  <div class="buttons">
    <button class="buscar" onclick="buscarUsuarios()">Buscar</button>
    <button class="excel" onclick="exportarExcel()">Exportar Excel</button>
    <button class="pdf" onclick="gerarPDF()">Gerar PDF</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>Nome</th><th>Usuário</th><th>Status</th><th>Time</th><th>Idade</th><th>Créditos</th><th>Data Cadastro</th><th>Indicador</th><th>Cidade</th><th>Estado</th><th>País</th>
      </tr>
    </thead>
    <tbody id="tabelaUsuarios"></tbody>
  </table>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="js/firebase-init.js"></script>
<script src="js/usuarios-relatorio.js"></script>
</body>
</html>
